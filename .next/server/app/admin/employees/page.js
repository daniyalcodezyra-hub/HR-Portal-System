(()=>{var e={};e.id=24,e.ids=[24],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4643:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41680).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6850:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\computer lab\\\\Pictures\\\\HR-Portal-System-main\\\\HR-Portal-System-main\\\\app\\\\admin\\\\employees\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\admin\\employees\\page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13071:(e,t,a)=>{Promise.resolve().then(a.bind(a,86885))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33680:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41680).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},33873:e=>{"use strict";e.exports=require("path")},43286:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41680).A)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},75553:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c});var s=a(70260),r=a(28203),n=a(25155),i=a.n(n),l=a(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let c={children:["",{children:["admin",{children:["employees",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6850)),"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\admin\\employees\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,54899)),"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,19611)),"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,61129)),"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\admin\\employees\\page.tsx"],p={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/employees/page",pathname:"/admin/employees",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},79551:e=>{"use strict";e.exports=require("url")},82901:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41680).A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},85047:(e,t,a)=>{Promise.resolve().then(a.bind(a,6850))},86885:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(45512),r=a(58009),n=a(86235),i=a(16873),l=a(41680);let o=(0,l.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var c=a(43286);let d=(0,l.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var p=a(87798),x=a(82901),m=a(94209),u=a(4643),h=a(33680),f=a(70399),y=a(68578);let b=()=>{let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[b,g]=(0,r.useState)(!1),[v,j]=(0,r.useState)(null),[k,N]=(0,r.useState)(""),w=async()=>{l(!0);try{let e=await fetch("/api/users"),a=await e.json();e.ok&&t(a||[])}catch(e){console.error("Error fetching profiles:",e)}finally{l(!1)}};(0,r.useEffect)(()=>{w()},[]);let P=e=>{j({...e}),g(!0)},C=async e=>{if(window.confirm("Are you sure you want to delete this staff record?"))try{(await fetch(`/api/users?userId=${e}`,{method:"DELETE"})).ok?(y.oR.success("Staff record removed"),w()):y.oR.error("Failed to delete")}catch(e){y.oR.error("Process error")}},_=async e=>{if(e.preventDefault(),v&&v._id)try{(await fetch("/api/users",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:v._id,updates:{full_name:v.full_name,role:v.role,shift:v.shift,department:v.department,phone:v.phone,cnic:v.cnic,position:v.position,salary:v.salary,entry_time:v.entry_time,exit_time:v.exit_time,break_in:v.break_in,break_off:v.break_off,annual_leaves:v.annual_leaves}})})).ok?(y.oR.success("Profile updated"),w(),g(!1)):y.oR.error("Update failed")}catch(e){y.oR.error("Process error")}},z=(e,t)=>{v&&j({...v,[e]:t})},A=e=>{if(!e||"-"===e||"NONE"===e)return"-";if("string"==typeof e&&e.includes("T"))try{let t=new Date(e);if(isNaN(t.getTime()))return e;return t.toLocaleTimeString("en-PK",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch(e){}return e},S=e.filter(e=>e.full_name?.toLowerCase().includes(k.toLowerCase())||e.email?.toLowerCase().includes(k.toLowerCase())||e.department?.toLowerCase().includes(k.toLowerCase())||e.cnic?.includes(k));return a&&0===e.length?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)(n.A,{className:"animate-spin text-black",size:48}),(0,s.jsx)("p",{className:"text-zinc-400 font-black uppercase text-[10px] tracking-[0.4em]",children:"Querying Workforce..."})]})}):(0,s.jsxs)("div",{className:"space-y-8 pb-10",children:[(0,s.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-black text-black tracking-tighter leading-none mb-2",children:"Staff Registry"}),(0,s.jsx)("p",{className:"text-zinc-500 font-bold uppercase text-[10px] tracking-[0.2em]",children:"Detailed Resource Intelligence"})]})}),(0,s.jsxs)(f.Zp,{className:"!p-0 overflow-hidden shadow-2xl border border-zinc-100",children:[(0,s.jsxs)("div",{className:"p-8 border-b border-zinc-100 flex flex-col sm:flex-row sm:items-center justify-between gap-6 bg-zinc-50/20",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,s.jsx)(i.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-300",size:18}),(0,s.jsx)("input",{type:"text",placeholder:"Query database (Name, CNIC, Dept)...",value:k,onChange:e=>N(e.target.value),className:"w-full pl-11 pr-4 py-4 bg-white border border-zinc-100 rounded-2xl text-[10px] font-black uppercase tracking-widest outline-none focus:border-black transition-all"})]}),(0,s.jsxs)("button",{onClick:w,className:"flex items-center justify-center gap-2 px-6 py-4 bg-white text-zinc-500 border border-zinc-100 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:text-black transition-all shadow-sm",children:[(0,s.jsx)(o,{size:16})," Refresh"]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left border-collapse min-w-[1200px]",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-zinc-50/50 border-b border-zinc-100",children:[(0,s.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:"Agent Detail"}),(0,s.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest text-center",children:"Identity (CNIC)"}),(0,s.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest text-center",children:"Payroll (PKR)"}),(0,s.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest text-center",children:"Shift/Time"}),(0,s.jsx)("th",{className:"px-8 py-6 text-[10px] font-black text-zinc-400 uppercase tracking-widest text-center",children:"Break Protocol"}),(0,s.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest text-center",children:"Manage"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-zinc-100",children:S.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-zinc-50/30 transition-colors group text-xs",children:[(0,s.jsx)("td",{className:"px-6 py-6 min-w-[250px]",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-black rounded-xl flex items-center justify-center text-white font-black",children:e.full_name?.[0]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-black text-black tracking-tight leading-none mb-1 text-sm uppercase",children:e.full_name}),(0,s.jsx)("p",{className:"text-[9px] text-zinc-400 font-bold tracking-widest uppercase",children:e.position}),(0,s.jsx)("p",{className:"text-[9px] text-zinc-400 font-bold tracking-widest",children:e.email})]})]})}),(0,s.jsxs)("td",{className:"px-6 py-6 text-center",children:[(0,s.jsx)("p",{className:"font-black text-black",children:e.cnic||"NOT-SET"}),(0,s.jsx)("p",{className:"text-[9px] text-zinc-400 font-bold tracking-widest",children:e.phone||"NO-PH"})]}),(0,s.jsxs)("td",{className:"px-6 py-6 text-center font-black",children:[(0,s.jsxs)("p",{children:["Rs ",e.salary||"0"]}),(0,s.jsx)(f.Ex,{variant:"slate",children:e.department?.toUpperCase()})]}),(0,s.jsxs)("td",{className:"px-6 py-6 text-center",children:[(0,s.jsx)("p",{className:"font-black text-black uppercase tracking-widest mb-1",children:e.shift}),(0,s.jsxs)("p",{className:"text-[10px] font-bold text-zinc-400",children:[A(e.entry_time)," - ",A(e.exit_time)]})]}),(0,s.jsxs)("td",{className:"px-6 py-6 text-center font-black text-[10px] text-zinc-400",children:[A(e.break_in)," - ",A(e.break_off)]}),(0,s.jsx)("td",{className:"px-6 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>P(e),className:"p-2.5 text-zinc-400 hover:text-black hover:bg-zinc-100 rounded-xl transition-all",children:(0,s.jsx)(c.A,{size:18})}),(0,s.jsx)("button",{onClick:()=>C(e._id),className:"p-2.5 text-zinc-400 hover:text-rose-600 hover:bg-rose-50 rounded-xl transition-all",children:(0,s.jsx)(d,{size:18})})]})})]},e._id))})]})})]}),(0,s.jsx)(f.aF,{isOpen:b,onClose:()=>g(!1),title:"Registry Override",children:(0,s.jsxs)("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(f.pd,{label:"Full Name",value:v?.full_name||"",onChange:e=>z("full_name",e.target.value),icon:p.A}),(0,s.jsx)(f.pd,{label:"Job Title / Position",value:v?.position||"",onChange:e=>z("position",e.target.value),icon:x.A}),(0,s.jsx)(f.pd,{label:"Primary Mobile",value:v?.phone||"",onChange:e=>z("phone",e.target.value),icon:m.A}),(0,s.jsx)(f.pd,{label:"CNIC Number",value:v?.cnic||"",onChange:e=>z("cnic",e.target.value),icon:CreditCard}),(0,s.jsx)(f.pd,{label:"Department",value:v?.department||"",onChange:e=>z("department",e.target.value),icon:x.A}),(0,s.jsx)(f.pd,{label:"Monthly Salary (PKR)",value:v?.salary||"",onChange:e=>z("salary",e.target.value),icon:DollarSign}),(0,s.jsx)(f.pd,{label:"Annual Leaves Allowance",type:"number",value:v?.annual_leaves||20,onChange:e=>z("annual_leaves",parseInt(e.target.value)),icon:Calendar}),(0,s.jsxs)("div",{className:"md:col-span-2 grid grid-cols-2 gap-4",children:[(0,s.jsx)(f.pd,{label:"Entry Time",type:"time",value:v?.entry_time||"",onChange:e=>z("entry_time",e.target.value),icon:u.A}),(0,s.jsx)(f.pd,{label:"Exit Time",type:"time",value:v?.exit_time||"",onChange:e=>z("exit_time",e.target.value),icon:u.A})]}),(0,s.jsxs)("div",{className:"md:col-span-2 grid grid-cols-2 gap-4",children:[(0,s.jsx)(f.pd,{label:"Break Start",type:"time",value:v?.break_in||"",onChange:e=>z("break_in",e.target.value),icon:u.A}),(0,s.jsx)(f.pd,{label:"Break End",type:"time",value:v?.break_off||"",onChange:e=>z("break_off",e.target.value),icon:u.A})]}),(0,s.jsx)(f.l6,{label:"Current Shift",value:v?.shift||"Day Shift",onChange:e=>z("shift",e.target.value),options:["Day Shift","Night Shift"]}),(0,s.jsx)(f.l6,{label:"System Role",value:v?.role||"employee",onChange:e=>z("role",e.target.value),options:["admin","employee"]}),(0,s.jsx)("div",{className:"md:col-span-2 flex justify-end gap-3 pt-4",children:(0,s.jsx)(f.jn,{type:"submit",icon:h.A,children:"Update Records"})})]})})]})}},87798:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41680).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},94209:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41680).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,49,523,287],()=>a(75553));module.exports=s})();