(()=>{var e={};e.id=989,e.ids=[989],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4643:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(41680).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8866:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(41680).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21059:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=s(70260),l=s(28203),r=s(25155),i=s.n(r),n=s(67292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c={children:["",{children:["employee",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,95617)),"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\employee\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,42064)),"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\employee\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,19611)),"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,61129)),"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\employee\\profile\\page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/employee/profile/page",pathname:"/employee/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},23866:(e,t,s)=>{Promise.resolve().then(s.bind(s,75616)),Promise.resolve().then(s.bind(s,90839))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33680:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(41680).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},33873:e=>{"use strict";e.exports=require("path")},42064:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(62740),l=s(75616),r=s(90839);function i({children:e}){return(0,a.jsx)(r.ProtectedRoute,{allowedRoles:["employee"],children:(0,a.jsx)(l.default,{children:e})})}},43286:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(41680).A)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},45723:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(41680).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64034:(e,t,s)=>{Promise.resolve().then(s.bind(s,98996)),Promise.resolve().then(s.bind(s,25571))},75616:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});let a=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\computer lab\\\\Pictures\\\\HR-Portal-System-main\\\\HR-Portal-System-main\\\\components\\\\EmployeeLayout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\components\\EmployeeLayout.tsx","default")},79551:e=>{"use strict";e.exports=require("url")},82088:(e,t,s)=>{Promise.resolve().then(s.bind(s,99427))},82901:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(41680).A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},87798:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(41680).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},94209:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(41680).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},95240:(e,t,s)=>{Promise.resolve().then(s.bind(s,95617))},95617:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\computer lab\\\\Pictures\\\\HR-Portal-System-main\\\\HR-Portal-System-main\\\\app\\\\employee\\\\profile\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\employee\\profile\\page.tsx","default")},98996:(e,t,s)=>{"use strict";s.d(t,{default:()=>h});var a=s(45512),l=s(58009),r=s(79334),i=s(28531),n=s.n(i),o=s(5091),c=s(80574),d=s(45723),p=s(87798),m=s(30722),x=s(4643);let h=({children:e})=>{(0,r.useRouter)();let t=(0,r.usePathname)(),{signOut:s}=(0,o.A)(),[i,h]=(0,l.useState)(!1),u=[{label:"Dashboard",icon:(0,a.jsx)(c.A,{size:20}),path:"/employee"},{label:"History",icon:(0,a.jsx)(d.A,{size:20}),path:"/employee/history"},{label:"Profile",icon:(0,a.jsx)(p.A,{size:20}),path:"/employee/profile"}];return(0,a.jsxs)("div",{className:"flex min-h-screen bg-white selection:bg-black selection:text-white",children:[(0,a.jsx)("aside",{className:"hidden lg:flex fixed top-0 left-0 bottom-0 bg-white border-r border-zinc-100 z-50 w-28 flex-col justify-between",children:(0,a.jsxs)("div",{className:"flex flex-col h-full overflow-hidden",children:[(0,a.jsx)("div",{className:"p-6 flex flex-col items-center gap-6 min-h-[100px]",children:(0,a.jsx)(n(),{href:"/",className:"w-10 h-10 bg-black rounded-xl flex items-center justify-center text-white font-black shrink-0 shadow-lg cursor-pointer hover:scale-105 transition-transform",children:"C"})}),(0,a.jsx)("nav",{className:"flex-1 px-3 py-4 space-y-4 flex flex-col items-center",children:u.map(e=>(0,a.jsxs)(n(),{href:e.path,title:e.label,className:`w-full flex flex-col items-center justify-center gap-2 py-4 rounded-xl transition-all duration-300 ${t===e.path?"bg-black text-white shadow-xl shadow-zinc-200":"text-zinc-400 hover:text-black hover:bg-zinc-50"}`,children:[(0,a.jsx)("div",{className:"shrink-0",children:e.icon}),(0,a.jsx)("span",{className:"text-[9px] font-black uppercase tracking-widest text-center",children:e.label})]},e.path))}),(0,a.jsx)("div",{className:"p-4 border-t border-zinc-50 flex flex-col items-center",children:(0,a.jsxs)("button",{onClick:s,title:"Logout",className:"w-full flex flex-col items-center justify-center gap-2 py-4 text-zinc-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all duration-300",children:[(0,a.jsx)("div",{className:"shrink-0",children:(0,a.jsx)(m.A,{size:20})}),(0,a.jsx)("span",{className:"text-[9px] font-black uppercase tracking-widest text-center",children:"End Task"})]})})]})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col lg:pl-28 transition-all duration-300",children:[(0,a.jsxs)("header",{className:"lg:hidden h-20 bg-white/80 backdrop-blur-md border-b border-zinc-100 px-6 flex items-center justify-between sticky top-0 z-30",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-black rounded-lg flex items-center justify-center text-white font-black text-xs",children:"C"}),(0,a.jsx)("div",{className:"w-10 h-10 bg-zinc-100 rounded-lg flex items-center justify-center text-black font-black text-[10px] uppercase",children:new Date().toLocaleTimeString("en-PK",{hour:"2-digit",minute:"2-digit"}).split(" ")[0]})]}),(0,a.jsx)("main",{className:"p-4 md:p-8 lg:p-12 animate-in fade-in slide-in-from-bottom-4 duration-700 overflow-x-hidden",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)("div",{className:"hidden lg:flex justify-end mb-8",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 bg-zinc-50 px-6 py-3 rounded-2xl border border-zinc-100 shadow-sm",children:[(0,a.jsx)(x.A,{size:16,className:"text-zinc-400"}),(0,a.jsx)("span",{className:"text-[10px] font-black text-black uppercase tracking-[0.2em]",children:new Date().toLocaleString("en-PK",{weekday:"long",hour:"2-digit",minute:"2-digit"})})]})}),e]})})]}),(0,a.jsxs)("nav",{className:"lg:hidden fixed bottom-6 left-6 right-6 bg-black text-white shadow-2xl rounded-3xl px-8 py-4 flex justify-between items-center z-40",children:[u.map(e=>(0,a.jsx)(n(),{href:e.path,className:`flex flex-col items-center gap-1 transition-all ${t===e.path?"text-white scale-125":"text-zinc-500"}`,children:e.icon},e.path)),(0,a.jsx)("button",{onClick:s,className:"text-zinc-500 hover:text-white transition-colors",children:(0,a.jsx)(m.A,{size:20})})]})]})}},99427:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(45512),l=s(58009),r=s(87798),i=s(8866),n=s(94209),o=s(82901),c=s(4643),d=s(41680);let p=(0,d.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),m=(0,d.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var x=s(44269),h=s(33680),u=s(43286),f=s(5091),b=s(68578);let y=()=>{let{user:e,refreshUser:t}=(0,f.A)(),[s,d]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[v,j]=(0,l.useState)({});(0,l.useEffect)(()=>{e&&j({...e})},[e]);let k=async()=>{d(!0);try{(await fetch("/api/users",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e?._id,updates:{full_name:v.full_name,phone:v.phone}})})).ok?(b.oR.success("Profile updated"),await t(),g(!1)):b.oR.error("Update failed")}catch(e){b.oR.error("Process error")}finally{d(!1)}};if(!e&&!s)return null;let w=[{title:"Personal Identity",items:[{label:"Legal Name",value:e?.full_name,icon:(0,a.jsx)(r.A,{size:16}),field:"full_name",editable:!0},{label:"Official Email",value:e?.email,icon:(0,a.jsx)(i.A,{size:16}),field:"email",editable:!1},{label:"Contact Number",value:e?.phone||"Not provided",icon:(0,a.jsx)(n.A,{size:16}),field:"phone",editable:!0}]},{title:"Operational Detail",items:[{label:"Role Designation",value:e?.role?.toUpperCase()||"UNASSIGNED",icon:(0,a.jsx)(o.A,{size:16}),field:"role",editable:!1},{label:"Assigned Shift",value:e?.shift||"GENERAL",icon:(0,a.jsx)(c.A,{size:16}),field:"shift",editable:!1},{label:"Position",value:e?.position||"GENERAL",icon:(0,a.jsx)(p,{size:16}),field:"position",editable:!1},{label:"System ID",value:e?._id?.substring(0,16).toUpperCase()+"...",icon:(0,a.jsx)(m,{size:16}),field:"id",editable:!1}]}];return(0,a.jsxs)("div",{className:"space-y-12 pb-10",children:[(0,a.jsxs)("div",{className:"bg-black rounded-[3rem] p-10 sm:p-20 text-white shadow-2xl relative overflow-hidden group border border-zinc-800",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-zinc-900 rounded-full blur-[150px] -mr-64 -mt-64"}),y?(0,a.jsxs)("div",{className:"absolute top-10 right-10 flex gap-3 z-20",children:[(0,a.jsx)("button",{onClick:()=>g(!1),className:"p-4 bg-zinc-800 text-white rounded-full hover:bg-zinc-700 transition-all",children:(0,a.jsx)(x.A,{size:20})}),(0,a.jsxs)("button",{onClick:k,className:"p-4 bg-white text-black rounded-full hover:bg-zinc-200 transition-all flex items-center gap-2 px-6",children:[(0,a.jsx)(h.A,{size:20})," ",(0,a.jsx)("span",{className:"text-[10px] font-black uppercase",children:"Commit"})]})]}):(0,a.jsx)("button",{onClick:()=>g(!0),className:"absolute top-10 right-10 p-5 bg-white text-black rounded-full hover:bg-zinc-200 transition-all shadow-2xl z-20",children:(0,a.jsx)(u.A,{size:20})}),(0,a.jsxs)("div",{className:"flex flex-col items-center sm:flex-row sm:items-end gap-14 relative z-10",children:[(0,a.jsx)("div",{className:"w-40 h-40 sm:w-56 sm:h-56 rounded-[3rem] border-4 border-zinc-800 shadow-2xl overflow-hidden bg-zinc-900 flex items-center justify-center text-6xl font-black",children:e?.full_name?.split(" ").map(e=>e[0]).join("")||"?"}),(0,a.jsxs)("div",{className:"text-center sm:text-left",children:[(0,a.jsx)("h1",{className:"text-4xl sm:text-6xl font-black text-white tracking-tighter uppercase leading-none mb-4",children:e?.full_name}),(0,a.jsx)("p",{className:"text-zinc-500 font-black uppercase tracking-[0.4em] text-[10px] mb-10 opacity-80",children:"Operational Unit Member"})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:w.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white rounded-[3rem] p-10 sm:p-16 shadow-sm border border-zinc-100",children:[(0,a.jsx)("h3",{className:"text-2xl font-black text-black uppercase tracking-tighter mb-10 flex items-center gap-4",children:e.title}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-10",children:e.items.map((e,t)=>(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("p",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest flex items-center gap-3",children:[e.icon," ",e.label]}),y&&e.editable?(0,a.jsx)("input",{type:"text",className:"w-full bg-zinc-50 border-2 border-zinc-100 rounded-xl px-4 py-2 text-sm font-black text-black outline-none focus:border-black transition-all",value:v[e.field]||"",onChange:t=>j({...v,[e.field]:t.target.value})}):(0,a.jsx)("p",{className:"text-sm font-black text-black uppercase truncate tracking-tight",children:e.value||"NOT SPECIFIED"})]},t))})]},t))})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,49,523],()=>s(21059));module.exports=a})();