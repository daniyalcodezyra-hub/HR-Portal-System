(()=>{var e={};e.id=520,e.ids=[520],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5091:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,AuthProvider:()=>l});var s=r(45512),a=r(58009),n=r(79334),o=r(68578);let i=(0,a.createContext)(void 0),l=({children:e})=>{let[t,r]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0),d=(0,n.useRouter)(),p=async()=>{try{let e=await fetch("/api/auth/me"),t=await e.json();t.user?r(t.user):r(null)}catch(e){console.error("Check user error:",e),r(null)}finally{c(!1)}};(0,a.useEffect)(()=>{p()},[]);let m=async()=>{await p()},u=async e=>{try{let t=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(t.ok)return{error:null};return{error:r.error||"Signup failed"}}catch(e){return{error:e.message}}},h=async(e,t)=>{try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),a=await s.json();if(s.ok)return r(a.user),{error:null};return{error:a.error||"Login failed"}}catch(e){return{error:e.message}}},x=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),r(null),o.oR.info("Session Terminated. Offline."),d.push("/")}catch(e){console.error("Sign out error:",e)}};return(0,s.jsx)(i.Provider,{value:{user:t,loading:l,signUp:u,signIn:h,signOut:x,refreshUser:m},children:e})},c=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5362:(e,t,r)=>{Promise.resolve().then(r.bind(r,15449))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15449:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(45512),a=r(58009),n=r.n(a),o=r(79334),i=r(28531),l=r.n(i),c=r(5091),d=r(68578),p=r(69208),m=r(21956);let u=({onSuccess:e})=>{let t=(0,o.useRouter)(),{signIn:r,user:i}=(0,c.A)(),[u,h]=(0,a.useState)(!1),[x,b]=(0,a.useState)({email:"",password:""}),[f,g]=(0,a.useState)({}),[v,y]=(0,a.useState)(!1),P=()=>{let e={};return x.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.email)||(e.email="Please enter a valid email address"):e.email="Email is required",x.password||(e.password="Password is required"),g(e),0===Object.keys(e).length},w=e=>{let{name:t,value:r}=e.target;b(e=>({...e,[t]:r})),f[t]&&g(e=>({...e,[t]:void 0}))},j=async t=>{if(t.preventDefault(),P()){y(!0),g({});try{let{error:t}=await r(x.email,x.password);if(console.log("Login Attempt:",{email:x.email,error:t}),t){let e="string"==typeof t?t:t.message||"Invalid email or password";g({general:e}),d.oR.error(e),y(!1);return}d.oR.success("Access Granted! Redirecting..."),y(!1),e&&e()}catch(e){g({general:"An unexpected error occurred. Please try again."}),y(!1)}}};return n().useEffect(()=>{i&&!v&&("admin"===i.role?t.push("/admin"):t.push("/employee"))},[i,v,t]),(0,s.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[f.general&&(0,s.jsxs)("div",{className:"bg-rose-50 border border-rose-100 p-4 rounded-2xl flex items-center gap-3 animate-shake",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-rose-500 rounded-full flex items-center justify-center text-white shrink-0 shadow-lg shadow-rose-200",children:(0,s.jsx)("span",{className:"font-black text-xs",children:"!"})}),(0,s.jsx)("p",{className:"text-[10px] font-bold text-rose-600 uppercase tracking-widest leading-tight",children:f.general})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400 ml-2",htmlFor:"email",children:"Personnel Email"}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:x.email,onChange:w,placeholder:"username@codezyra.com",disabled:v,className:`w-full bg-white border ${f.email?"border-rose-300 ring-4 ring-rose-50":"border-slate-100 group-hover:border-black"} px-6 py-4 rounded-2xl font-bold text-sm outline-none transition-all placeholder:text-zinc-300 placeholder:italic`,autoComplete:"email"}),f.email&&(0,s.jsx)("p",{className:"text-[9px] font-black text-rose-500 uppercase tracking-widest mt-2 ml-2",children:f.email})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400 ml-2",htmlFor:"password",children:"Access Key"}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("input",{type:u?"text":"password",id:"password",name:"password",value:x.password,onChange:w,placeholder:"••••••••••••",disabled:v,className:`w-full bg-white border ${f.password?"border-rose-300 ring-4 ring-rose-50":"border-slate-100 group-hover:border-black"} px-6 py-4 rounded-2xl font-bold text-sm outline-none transition-all placeholder:text-zinc-300`,autoComplete:"current-password"}),(0,s.jsx)("button",{type:"button",onClick:()=>h(!u),className:"absolute right-5 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-black transition-colors",children:u?(0,s.jsx)(p.A,{size:20}):(0,s.jsx)(m.A,{size:20})}),f.password&&(0,s.jsx)("p",{className:"text-[9px] font-black text-rose-500 uppercase tracking-widest mt-2 ml-2",children:f.password})]})]}),(0,s.jsx)("button",{type:"submit",disabled:v,className:"w-full bg-black text-white py-5 rounded-2xl font-black text-[11px] uppercase tracking-[0.3em] shadow-2xl shadow-zinc-200 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3 disabled:bg-zinc-800 disabled:grayscale",children:v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),"Authenticating..."]}):(0,s.jsx)(s.Fragment,{children:"Login"})}),(0,s.jsx)("div",{className:"pt-6 border-t border-slate-50 text-center",children:(0,s.jsxs)("p",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest",children:["New Personnel? "," ",(0,s.jsx)(l(),{href:"/signup",className:"text-black font-black hover:underline underline-offset-4",children:"Signup"})]})})]})},h=(0,r(41680).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function x(){return(0,s.jsx)("main",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)(l(),{href:"/",className:"inline-flex items-center text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-black transition-colors mb-8 group",children:[(0,s.jsx)(h,{size:16,className:"mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Terminal"]}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h1",{className:"text-4xl font-black uppercase tracking-tight mb-2",children:"Login"}),(0,s.jsx)("p",{className:"text-zinc-400 font-bold text-[10px] uppercase tracking-[0.2em]",children:"Authorization Required // Personnel Only"})]}),(0,s.jsx)("div",{className:"bg-zinc-50 p-8 rounded-[2.5rem] border border-slate-100 shadow-2xl shadow-zinc-200/50",children:(0,s.jsx)(u,{})}),(0,s.jsx)("p",{className:"mt-12 text-center text-[9px] font-bold text-zinc-400 uppercase tracking-widest leading-relaxed px-8",children:"Authorized access is monitored and logged. Unauthorized attempts will be reported to the IT security department immediately."})]})})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>c,viewport:()=>l});var s=r(62740),a=r(61421),n=r.n(a);r(82704);var o=r(31774);r(56070);var i=r(49175);let l={themeColor:"#000000"},c={title:"Codezyra | Enterprise Attendance Portal",description:"HR and Employee Attendance Management System",manifest:"/manifest.json",icons:{icon:"/favicon.ico",apple:"/pwa-192x192.png"},appleWebApp:{capable:!0,statusBarStyle:"default",title:"Attendance Portal"}};function d({children:e}){return(0,s.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,s.jsx)("body",{className:n().className,suppressHydrationWarning:!0,children:(0,s.jsxs)(i.AuthProvider,{children:[e,(0,s.jsx)(o.ToastContainer,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})})}},20640:(e,t,r)=>{Promise.resolve().then(r.bind(r,5091)),Promise.resolve().then(r.bind(r,68578))},21956:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},27181:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(45512);r(58009);var a=r(28531),n=r.n(a),o=r(16075),i=r(87137),l=r(69651);function c(){return(0,s.jsxs)("main",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6 text-center select-none",children:[(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 -z-10 opacity-[0.03] pointer-events-none",children:(0,s.jsx)("h2",{className:"text-[30rem] font-black italic select-none",children:"404"})}),(0,s.jsxs)("div",{className:"space-y-8 max-w-2xl mx-auto",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-zinc-50 border border-slate-100 shadow-xl mb-4 animate-bounce",children:(0,s.jsx)(o.A,{size:32,className:"text-black"})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("h1",{className:"text-7xl md:text-8xl font-black uppercase tracking-tighter leading-none italic",children:["Lost in ",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-zinc-300",children:"Transit"})]}),(0,s.jsx)("p",{className:"text-zinc-400 font-bold text-[10px] md:text-sm uppercase tracking-[0.4em] mt-4",children:"Status 404 // Resource Not Found"})]}),(0,s.jsx)("p",{className:"text-zinc-500 font-medium text-lg leading-relaxed max-w-md mx-auto",children:"The requested URL does not exist or has been relocated within the enterprise server infrastructure."}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 pt-8",children:[(0,s.jsxs)(n(),{href:"/",className:"group relative px-12 py-5 bg-black text-white rounded-full font-black text-[10px] uppercase tracking-[0.2em] overflow-hidden transition-all hover:scale-105 active:scale-95 shadow-2xl flex items-center gap-3",children:[(0,s.jsx)(i.A,{size:18}),"Return Home",(0,s.jsx)("div",{className:"absolute inset-0 bg-white/10 translate-y-full group-hover:translate-y-0 transition-transform duration-300"})]}),(0,s.jsxs)("button",{onClick:()=>window.history.back(),className:"px-12 py-5 border-2 border-slate-100 rounded-full font-black text-[10px] uppercase tracking-[0.2em] text-zinc-400 hover:border-black hover:text-black transition-all flex items-center gap-3 group",children:[(0,s.jsx)(l.A,{size:18,className:"rotate-180 group-hover:-translate-x-2 transition-transform"}),"Go Back"]})]}),(0,s.jsx)("div",{className:"pt-20 border-t border-slate-100",children:(0,s.jsxs)("div",{className:"flex flex-wrap justify-center gap-8 opacity-40 grayscale pointer-events-none",children:[(0,s.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Enterprise HR"}),(0,s.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Portal v2.0"}),(0,s.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Secure Node"})]})})]})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},43642:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\computer lab\\\\Pictures\\\\HR-Portal-System-main\\\\HR-Portal-System-main\\\\app\\\\login\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\login\\page.tsx","default")},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(88077);let a=async e=>[{type:"image/x-icon",sizes:"1024x1024",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},49175:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>a});var s=r(46760);let a=(0,s.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\contexts\\AuthContext.tsx","AuthProvider");(0,s.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\contexts\\AuthContext.tsx","useAuth"),(0,s.registerClientReference)(function(){throw Error("Attempted to call useSupabaseAuth() from the server but useSupabaseAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\contexts\\AuthContext.tsx","useSupabaseAuth")},61129:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\computer lab\\\\Pictures\\\\HR-Portal-System-main\\\\HR-Portal-System-main\\\\app\\\\not-found.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\not-found.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64422:(e,t,r)=>{Promise.resolve().then(r.bind(r,27181))},65610:(e,t,r)=>{Promise.resolve().then(r.bind(r,43642))},67723:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,66959,23)),Promise.resolve().then(r.t.bind(r,33875,23)),Promise.resolve().then(r.t.bind(r,88903,23)),Promise.resolve().then(r.t.bind(r,57174,23)),Promise.resolve().then(r.t.bind(r,84178,23)),Promise.resolve().then(r.t.bind(r,87190,23)),Promise.resolve().then(r.t.bind(r,48429,23)),Promise.resolve().then(r.t.bind(r,61365,23))},69208:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},73299:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13219,23)),Promise.resolve().then(r.t.bind(r,34863,23)),Promise.resolve().then(r.t.bind(r,25155,23)),Promise.resolve().then(r.t.bind(r,40802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,48530,23)),Promise.resolve().then(r.t.bind(r,81601,23)),Promise.resolve().then(r.t.bind(r,88921,23))},79551:e=>{"use strict";e.exports=require("url")},82704:()=>{},84105:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(70260),a=r(28203),n=r(25155),o=r.n(n),i=r(67292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c={children:["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,43642)),"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\login\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,61129)),"C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\computer lab\\Pictures\\HR-Portal-System-main\\HR-Portal-System-main\\app\\login\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},91264:(e,t,r)=>{Promise.resolve().then(r.bind(r,49175)),Promise.resolve().then(r.bind(r,31774))},95966:(e,t,r)=>{Promise.resolve().then(r.bind(r,61129))}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,49],()=>r(84105));module.exports=s})();