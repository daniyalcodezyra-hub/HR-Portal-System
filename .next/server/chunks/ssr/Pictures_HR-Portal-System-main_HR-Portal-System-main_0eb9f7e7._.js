module.exports=[58721,a=>{"use strict";let b=(0,a.i(6380).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],58721)},68663,a=>{"use strict";let b=(0,a.i(6380).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],68663)},38595,2237,a=>{"use strict";let b=(0,a.i(6380).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],38595);var c=a.i(90119),d=a.i(58721);a.s(["Badge",0,({children:a,variant:b="slate"})=>(0,c.jsx)("span",{className:`px-2 sm:px-3 py-1 rounded-lg sm:rounded-xl text-[9px] sm:text-[10px] font-black uppercase tracking-wider border whitespace-nowrap ${{indigo:"bg-indigo-50 text-indigo-600 border-indigo-100",emerald:"bg-emerald-50 text-emerald-600 border-emerald-100",rose:"bg-rose-50 text-rose-600 border-rose-100",amber:"bg-amber-50 text-amber-600 border-amber-100",slate:"bg-slate-50 text-slate-500 border-slate-100",black:"bg-black text-white border-black"}[b]}`,children:a}),"Card",0,({children:a,className:b=""})=>(0,c.jsx)("div",{className:`bg-white rounded-[1.5rem] sm:rounded-[2.5rem] p-5 sm:p-8 shadow-sm border border-slate-100 transition-all duration-300 hover:shadow-xl hover:shadow-slate-200/40 ${b}`,children:a}),"Input",0,({label:a,icon:b,...d})=>(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-[9px] sm:text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:a}),(0,c.jsxs)("div",{className:"relative group",children:[b&&(0,c.jsx)(b,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-black transition-colors",size:18}),(0,c.jsx)("input",{...d,className:`w-full ${b?"pl-11":"px-5"} pr-4 py-3 sm:py-3.5 bg-white border border-slate-200 rounded-xl sm:rounded-2xl focus:ring-4 focus:ring-slate-500/10 focus:border-black outline-none transition-all font-medium text-black text-sm sm:text-base`})]})]}),"Modal",0,({isOpen:a,onClose:b,title:e,children:f})=>a?(0,c.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4",children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:b}),(0,c.jsxs)("div",{className:"relative bg-white rounded-t-[2rem] sm:rounded-[3rem] w-full max-w-4xl h-[92vh] sm:h-auto sm:max-h-[90vh] overflow-hidden shadow-2xl animate-in slide-in-from-bottom-10 sm:zoom-in-95 duration-300",children:[(0,c.jsxs)("div",{className:"p-6 sm:p-8 border-b border-slate-100 flex items-center justify-between bg-white",children:[(0,c.jsx)("h3",{className:"text-xl sm:text-2xl font-black text-black tracking-tight",children:e}),(0,c.jsx)("button",{onClick:b,className:"p-2 sm:p-3 hover:bg-slate-100 rounded-xl sm:rounded-2xl transition-colors text-slate-400",children:(0,c.jsx)(d.X,{size:24})})]}),(0,c.jsx)("div",{className:"p-6 sm:p-8 overflow-y-auto max-h-[calc(92vh-100px)] sm:max-h-[calc(90vh-140px)]",children:f})]})]}):null,"PrimaryButton",0,({onClick:a,children:b,icon:d,className:e="",disabled:f,type:g="button"})=>(0,c.jsxs)("button",{type:g,onClick:a,disabled:f,className:`w-full sm:w-auto px-6 sm:px-8 py-3.5 sm:py-4 bg-black text-white rounded-xl sm:rounded-2xl font-black text-[10px] sm:text-xs uppercase tracking-widest flex items-center justify-center gap-2 shadow-xl shadow-slate-200 hover:bg-zinc-800 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed ${e}`,children:[d&&(0,c.jsx)(d,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),b]}),"SectionHeader",0,({title:a,subtitle:b,icon:d,iconColor:e="text-black"})=>(0,c.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[d&&(0,c.jsx)("div",{className:`w-10 h-10 sm:w-12 sm:h-12 bg-white rounded-xl sm:rounded-2xl flex items-center justify-center ${e} border border-slate-200 shadow-sm flex-shrink-0`,children:(0,c.jsx)(d,{size:20,className:"sm:w-[22px] sm:h-[22px]"})}),(0,c.jsxs)("div",{className:"min-w-0",children:[(0,c.jsx)("h3",{className:"text-lg sm:text-xl font-black text-black tracking-tight leading-none mb-1 truncate",children:a}),b&&(0,c.jsx)("p",{className:"text-[9px] sm:text-[10px] font-black text-slate-400 uppercase tracking-widest truncate",children:b})]})]}),"Select",0,({label:a,options:b,...d})=>(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-[9px] sm:text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:a}),(0,c.jsxs)("div",{className:"relative group",children:[(0,c.jsx)("select",{...d,className:"w-full px-5 py-3 sm:py-3.5 bg-white border border-slate-200 rounded-xl sm:rounded-2xl focus:ring-4 focus:ring-slate-500/10 focus:border-black outline-none transition-all font-medium text-black text-sm sm:text-base appearance-none",children:b.map(a=>(0,c.jsx)("option",{value:a,children:a},a))}),(0,c.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400 group-focus-within:text-black transition-colors",children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})],2237)},51641,a=>{"use strict";let b=(0,a.i(6380).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],51641)},43274,a=>{"use strict";let b=(0,a.i(6380).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);a.s(["Phone",()=>b],43274)},93846,a=>{"use strict";let b=(0,a.i(6380).default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);a.s(["Briefcase",()=>b],93846)},45691,a=>{"use strict";let b=(0,a.i(6380).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);a.s(["Edit2",()=>b],45691)},77405,a=>{"use strict";let b=(0,a.i(6380).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],77405)},44421,a=>{"use strict";var b=a.i(90119),c=a.i(10140),d=a.i(12029),e=a.i(6380);let f=(0,e.default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var g=a.i(45691),h=a.i(51641),i=a.i(43274),j=a.i(93846),k=a.i(68663),l=a.i(77405);let m=(0,e.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var n=a.i(38595),o=a.i(2237),p=a.i(55954);a.s(["default",0,()=>{let[a,e]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(""),y=async()=>{r(!0);try{let a=await fetch("/api/users"),b=await a.json();a.ok&&e(b||[])}catch(a){}finally{r(!1)}};(0,c.useEffect)(()=>{y()},[]);let z=async a=>{if(window.confirm("Are you sure you want to delete this staff record?"))try{(await fetch(`/api/users?userId=${a}`,{method:"DELETE"})).ok?(p.toast.success("Staff record removed"),y()):p.toast.error("Failed to delete")}catch(a){p.toast.error("Process error")}},A=async a=>{if(a.preventDefault(),u&&u._id)try{(await fetch("/api/users",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:u._id,updates:{full_name:u.full_name,role:u.role,shift:u.shift,department:u.department,phone:u.phone,cnic:u.cnic,position:u.position,salary:u.salary,entry_time:u.entry_time,exit_time:u.exit_time,break_in:u.break_in,break_off:u.break_off,annual_leaves:u.annual_leaves}})})).ok?(p.toast.success("Profile updated"),y(),t(!1)):p.toast.error("Update failed")}catch(a){p.toast.error("Process error")}},B=(a,b)=>{u&&v({...u,[a]:b})},C=a=>{if(!a||"-"===a||"NONE"===a)return"-";if("string"==typeof a&&a.includes("T"))try{let b=new Date(a);if(isNaN(b.getTime()))return a;return b.toLocaleTimeString("en-PK",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch(a){}return a},D=a.filter(a=>a.full_name?.toLowerCase().includes(w.toLowerCase())||a.email?.toLowerCase().includes(w.toLowerCase())||a.department?.toLowerCase().includes(w.toLowerCase())||a.cnic?.includes(w));return q&&0===a.length?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)(n.Loader2,{className:"animate-spin text-black",size:48}),(0,b.jsx)("p",{className:"text-zinc-400 font-black uppercase text-[10px] tracking-[0.4em]",children:"Querying Workforce..."})]})}):(0,b.jsxs)("div",{className:"space-y-8 pb-10",children:[(0,b.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-black text-black tracking-tighter leading-none mb-2",children:"Staff Registry"}),(0,b.jsx)("p",{className:"text-zinc-500 font-bold uppercase text-[10px] tracking-[0.2em]",children:"Detailed Resource Intelligence"})]})}),(0,b.jsxs)(o.Card,{className:"!p-0 overflow-hidden shadow-2xl border border-zinc-100",children:[(0,b.jsxs)("div",{className:"p-8 border-b border-zinc-100 flex flex-col sm:flex-row sm:items-center justify-between gap-6 bg-zinc-50/20",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,b.jsx)(d.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-300",size:18}),(0,b.jsx)("input",{type:"text",placeholder:"Query database (Name, CNIC, Dept)...",value:w,onChange:a=>x(a.target.value),className:"w-full pl-11 pr-4 py-4 bg-white border border-zinc-100 rounded-2xl text-[10px] font-black uppercase tracking-widest outline-none focus:border-black transition-all"})]}),(0,b.jsxs)("button",{onClick:y,className:"flex items-center justify-center gap-2 px-6 py-4 bg-white text-zinc-500 border border-zinc-100 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:text-black transition-all shadow-sm",children:[(0,b.jsx)(f,{size:16})," Refresh"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse min-w-[1200px]",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-zinc-50/50 border-b border-zinc-100",children:[(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:"Agent Detail"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest text-center",children:"Identity (CNIC)"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest text-center",children:"Payroll (PKR)"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest text-center",children:"Shift/Time"}),(0,b.jsx)("th",{className:"px-8 py-6 text-[10px] font-black text-zinc-400 uppercase tracking-widest text-center",children:"Break Protocol"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest text-center",children:"Manage"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-zinc-100",children:D.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-zinc-50/30 transition-colors group text-xs",children:[(0,b.jsx)("td",{className:"px-6 py-6 min-w-[250px]",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-black rounded-xl flex items-center justify-center text-white font-black",children:a.full_name?.[0]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-black text-black tracking-tight leading-none mb-1 text-sm uppercase",children:a.full_name}),(0,b.jsx)("p",{className:"text-[9px] text-zinc-400 font-bold tracking-widest uppercase",children:a.position}),(0,b.jsx)("p",{className:"text-[9px] text-zinc-400 font-bold tracking-widest",children:a.email})]})]})}),(0,b.jsxs)("td",{className:"px-6 py-6 text-center",children:[(0,b.jsx)("p",{className:"font-black text-black",children:a.cnic||"NOT-SET"}),(0,b.jsx)("p",{className:"text-[9px] text-zinc-400 font-bold tracking-widest",children:a.phone||"NO-PH"})]}),(0,b.jsxs)("td",{className:"px-6 py-6 text-center font-black",children:[(0,b.jsxs)("p",{children:["Rs ",a.salary||"0"]}),(0,b.jsx)(o.Badge,{variant:"slate",children:a.department?.toUpperCase()})]}),(0,b.jsxs)("td",{className:"px-6 py-6 text-center",children:[(0,b.jsx)("p",{className:"font-black text-black uppercase tracking-widest mb-1",children:a.shift}),(0,b.jsxs)("p",{className:"text-[10px] font-bold text-zinc-400",children:[C(a.entry_time)," - ",C(a.exit_time)]})]}),(0,b.jsxs)("td",{className:"px-6 py-6 text-center font-black text-[10px] text-zinc-400",children:[C(a.break_in)," - ",C(a.break_off)]}),(0,b.jsx)("td",{className:"px-6 py-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{v({...a}),t(!0)},className:"p-2.5 text-zinc-400 hover:text-black hover:bg-zinc-100 rounded-xl transition-all",children:(0,b.jsx)(g.Edit2,{size:18})}),(0,b.jsx)("button",{onClick:()=>z(a._id),className:"p-2.5 text-zinc-400 hover:text-rose-600 hover:bg-rose-50 rounded-xl transition-all",children:(0,b.jsx)(m,{size:18})})]})})]},a._id))})]})})]}),(0,b.jsx)(o.Modal,{isOpen:s,onClose:()=>t(!1),title:"Registry Override",children:(0,b.jsxs)("form",{onSubmit:A,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(o.Input,{label:"Full Name",value:u?.full_name||"",onChange:a=>B("full_name",a.target.value),icon:h.User}),(0,b.jsx)(o.Input,{label:"Job Title / Position",value:u?.position||"",onChange:a=>B("position",a.target.value),icon:j.Briefcase}),(0,b.jsx)(o.Input,{label:"Primary Mobile",value:u?.phone||"",onChange:a=>B("phone",a.target.value),icon:i.Phone}),(0,b.jsx)(o.Input,{label:"CNIC Number",value:u?.cnic||"",onChange:a=>B("cnic",a.target.value),icon:CreditCard}),(0,b.jsx)(o.Input,{label:"Department",value:u?.department||"",onChange:a=>B("department",a.target.value),icon:j.Briefcase}),(0,b.jsx)(o.Input,{label:"Monthly Salary (PKR)",value:u?.salary||"",onChange:a=>B("salary",a.target.value),icon:DollarSign}),(0,b.jsx)(o.Input,{label:"Annual Leaves Allowance",type:"number",value:u?.annual_leaves||20,onChange:a=>B("annual_leaves",parseInt(a.target.value)),icon:Calendar}),(0,b.jsxs)("div",{className:"md:col-span-2 grid grid-cols-2 gap-4",children:[(0,b.jsx)(o.Input,{label:"Entry Time",type:"time",value:u?.entry_time||"",onChange:a=>B("entry_time",a.target.value),icon:k.Clock}),(0,b.jsx)(o.Input,{label:"Exit Time",type:"time",value:u?.exit_time||"",onChange:a=>B("exit_time",a.target.value),icon:k.Clock})]}),(0,b.jsxs)("div",{className:"md:col-span-2 grid grid-cols-2 gap-4",children:[(0,b.jsx)(o.Input,{label:"Break Start",type:"time",value:u?.break_in||"",onChange:a=>B("break_in",a.target.value),icon:k.Clock}),(0,b.jsx)(o.Input,{label:"Break End",type:"time",value:u?.break_off||"",onChange:a=>B("break_off",a.target.value),icon:k.Clock})]}),(0,b.jsx)(o.Select,{label:"Current Shift",value:u?.shift||"Day Shift",onChange:a=>B("shift",a.target.value),options:["Day Shift","Night Shift"]}),(0,b.jsx)(o.Select,{label:"System Role",value:u?.role||"employee",onChange:a=>B("role",a.target.value),options:["admin","employee"]}),(0,b.jsx)("div",{className:"md:col-span-2 flex justify-end gap-3 pt-4",children:(0,b.jsx)(o.PrimaryButton,{type:"submit",icon:l.Save,children:"Update Records"})})]})})]})}],44421)}];

//# sourceMappingURL=Pictures_HR-Portal-System-main_HR-Portal-System-main_0eb9f7e7._.js.map