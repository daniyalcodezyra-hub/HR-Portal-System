module.exports=[58721,a=>{"use strict";let b=(0,a.i(6380).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],58721)},38595,2237,a=>{"use strict";let b=(0,a.i(6380).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],38595);var c=a.i(90119),d=a.i(58721);a.s(["Badge",0,({children:a,variant:b="slate"})=>(0,c.jsx)("span",{className:`px-2 sm:px-3 py-1 rounded-lg sm:rounded-xl text-[9px] sm:text-[10px] font-black uppercase tracking-wider border whitespace-nowrap ${{indigo:"bg-indigo-50 text-indigo-600 border-indigo-100",emerald:"bg-emerald-50 text-emerald-600 border-emerald-100",rose:"bg-rose-50 text-rose-600 border-rose-100",amber:"bg-amber-50 text-amber-600 border-amber-100",slate:"bg-slate-50 text-slate-500 border-slate-100",black:"bg-black text-white border-black"}[b]}`,children:a}),"Card",0,({children:a,className:b=""})=>(0,c.jsx)("div",{className:`bg-white rounded-[1.5rem] sm:rounded-[2.5rem] p-5 sm:p-8 shadow-sm border border-slate-100 transition-all duration-300 hover:shadow-xl hover:shadow-slate-200/40 ${b}`,children:a}),"Input",0,({label:a,icon:b,...d})=>(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-[9px] sm:text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:a}),(0,c.jsxs)("div",{className:"relative group",children:[b&&(0,c.jsx)(b,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-black transition-colors",size:18}),(0,c.jsx)("input",{...d,className:`w-full ${b?"pl-11":"px-5"} pr-4 py-3 sm:py-3.5 bg-white border border-slate-200 rounded-xl sm:rounded-2xl focus:ring-4 focus:ring-slate-500/10 focus:border-black outline-none transition-all font-medium text-black text-sm sm:text-base`})]})]}),"Modal",0,({isOpen:a,onClose:b,title:e,children:f})=>a?(0,c.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4",children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:b}),(0,c.jsxs)("div",{className:"relative bg-white rounded-t-[2rem] sm:rounded-[3rem] w-full max-w-4xl h-[92vh] sm:h-auto sm:max-h-[90vh] overflow-hidden shadow-2xl animate-in slide-in-from-bottom-10 sm:zoom-in-95 duration-300",children:[(0,c.jsxs)("div",{className:"p-6 sm:p-8 border-b border-slate-100 flex items-center justify-between bg-white",children:[(0,c.jsx)("h3",{className:"text-xl sm:text-2xl font-black text-black tracking-tight",children:e}),(0,c.jsx)("button",{onClick:b,className:"p-2 sm:p-3 hover:bg-slate-100 rounded-xl sm:rounded-2xl transition-colors text-slate-400",children:(0,c.jsx)(d.X,{size:24})})]}),(0,c.jsx)("div",{className:"p-6 sm:p-8 overflow-y-auto max-h-[calc(92vh-100px)] sm:max-h-[calc(90vh-140px)]",children:f})]})]}):null,"PrimaryButton",0,({onClick:a,children:b,icon:d,className:e="",disabled:f,type:g="button"})=>(0,c.jsxs)("button",{type:g,onClick:a,disabled:f,className:`w-full sm:w-auto px-6 sm:px-8 py-3.5 sm:py-4 bg-black text-white rounded-xl sm:rounded-2xl font-black text-[10px] sm:text-xs uppercase tracking-widest flex items-center justify-center gap-2 shadow-xl shadow-slate-200 hover:bg-zinc-800 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed ${e}`,children:[d&&(0,c.jsx)(d,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),b]}),"SectionHeader",0,({title:a,subtitle:b,icon:d,iconColor:e="text-black"})=>(0,c.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[d&&(0,c.jsx)("div",{className:`w-10 h-10 sm:w-12 sm:h-12 bg-white rounded-xl sm:rounded-2xl flex items-center justify-center ${e} border border-slate-200 shadow-sm flex-shrink-0`,children:(0,c.jsx)(d,{size:20,className:"sm:w-[22px] sm:h-[22px]"})}),(0,c.jsxs)("div",{className:"min-w-0",children:[(0,c.jsx)("h3",{className:"text-lg sm:text-xl font-black text-black tracking-tight leading-none mb-1 truncate",children:a}),b&&(0,c.jsx)("p",{className:"text-[9px] sm:text-[10px] font-black text-slate-400 uppercase tracking-widest truncate",children:b})]})]}),"Select",0,({label:a,options:b,...d})=>(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-[9px] sm:text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:a}),(0,c.jsxs)("div",{className:"relative group",children:[(0,c.jsx)("select",{...d,className:"w-full px-5 py-3 sm:py-3.5 bg-white border border-slate-200 rounded-xl sm:rounded-2xl focus:ring-4 focus:ring-slate-500/10 focus:border-black outline-none transition-all font-medium text-black text-sm sm:text-base appearance-none",children:b.map(a=>(0,c.jsx)("option",{value:a,children:a},a))}),(0,c.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400 group-focus-within:text-black transition-colors",children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})],2237)},30446,a=>{"use strict";var b=a.i(90119),c=a.i(10140),d=a.i(12029),e=a.i(38595),f=a.i(59035),g=a.i(2237);a.s(["default",0,()=>{let[a,h]=(0,c.useState)([]),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(new Date().getMonth()),[q,r]=(0,c.useState)(new Date().getFullYear()),s=async()=>{l(!0);try{let[a,b]=await Promise.all([fetch("/api/attendance"),fetch("/api/users")]),c=await a.json(),d=await b.json();a.ok&&h(c||[]),b.ok&&j(d||[])}catch(a){}finally{l(!1)}};(0,c.useEffect)(()=>{s()},[]);let t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=a=>{if(!a||"-"===a||"NONE"===a)return"-";if("string"==typeof a&&a.includes("T"))try{let b=new Date(a);if(isNaN(b.getTime()))return a;return b.toLocaleTimeString("en-PK",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch(a){}return a},v=a.filter(a=>{let b=new Date(a.date);return b.getMonth()===o&&b.getFullYear()===q}),w=i.map(a=>{let b=v.filter(b=>b.user?._id===a._id||b.user===a._id),c=b.filter(a=>"present"===a.status).length,d=b.filter(a=>"late"===a.status).length,e=b.filter(a=>"leave"===a.status).length,f=26-(c+d+e);return{...a,present:c,late:d,leave:e,absent:f>0?f:0,logs:b}}).filter(a=>a.full_name?.toLowerCase().includes(m.toLowerCase()));return k?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)(e.Loader2,{className:"animate-spin text-black",size:48}),(0,b.jsx)("p",{className:"text-zinc-400 font-black uppercase text-[10px] tracking-[0.4em]",children:"Aggregating Monthly Intelligence..."})]})}):(0,b.jsxs)("div",{className:"space-y-8 pb-10",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 bg-zinc-50/50 p-8 rounded-[3rem] border border-zinc-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-black text-black tracking-tighter leading-none mb-2",children:"Monthly Intelligence"}),(0,b.jsx)("p",{className:"text-zinc-500 font-bold uppercase text-[10px] tracking-[0.2em]",children:"Aggregated Workforce Performance Data"})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-4 items-center",children:(0,b.jsx)("div",{className:"flex bg-white rounded-2xl border border-zinc-200 p-1",children:t.map((a,c)=>(0,b.jsx)("button",{onClick:()=>p(c),className:`px-3 py-2 rounded-xl text-[9px] font-black uppercase transition-all ${o===c?"bg-black text-white":"text-zinc-400 hover:text-black"}`,children:a},a))})})]}),(0,b.jsxs)(g.Card,{className:"!p-0 overflow-hidden shadow-2xl",children:[(0,b.jsxs)("div",{className:"p-8 border-b border-zinc-100 flex flex-wrap items-center justify-between gap-6 bg-zinc-50/20",children:[(0,b.jsxs)("div",{className:"relative max-w-xs w-full",children:[(0,b.jsx)(d.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-300",size:18}),(0,b.jsx)("input",{type:"text",placeholder:"Query by name...",value:m,onChange:a=>n(a.target.value),className:"w-full pl-12 pr-4 py-4 bg-white border border-zinc-100 rounded-2xl text-[10px] font-black uppercase tracking-widest outline-none focus:border-black transition-all"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(g.Badge,{variant:"black",children:["Month: ",t[o]," ",q]}),(0,b.jsx)("button",{onClick:s,className:"p-4 bg-white border border-zinc-100 rounded-2xl hover:text-black transition-all",children:(0,b.jsx)(f.RefreshCcw,{size:18})})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left whitespace-nowrap min-w-[1200px]",children:[(0,b.jsx)("thead",{className:"bg-zinc-50/50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-8 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:"Agent"}),(0,b.jsx)("th",{className:"px-8 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest text-center",children:"Summary (P|L|A|V)"}),(0,b.jsx)("th",{className:"px-8 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest text-center",children:"Protocol Timings"}),(0,b.jsx)("th",{className:"px-8 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest text-center",children:"Expected Break"}),(0,b.jsx)("th",{className:"px-8 py-5 text-[10px] font-black text-zinc-400 uppercase tracking-widest text-center",children:"Details"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-zinc-100",children:w.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-zinc-50/30 transition-colors group",children:[(0,b.jsx)("td",{className:"px-8 py-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-black rounded-xl flex items-center justify-center text-white font-black text-xs shadow-sm",children:a.full_name?.[0]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-black text-black tracking-tight leading-none mb-1 text-sm uppercase",children:a.full_name}),(0,b.jsx)("p",{className:"text-[9px] text-zinc-400 font-black tracking-widest uppercase",children:a.position})]})]})}),(0,b.jsx)("td",{className:"px-8 py-6 text-center",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsxs)(g.Badge,{variant:"emerald",children:[a.present,"P"]}),(0,b.jsxs)(g.Badge,{variant:"amber",children:[a.late,"L"]}),(0,b.jsxs)(g.Badge,{variant:"rose",children:[a.absent,"A"]}),(0,b.jsxs)(g.Badge,{variant:"indigo",children:[a.leave,"V"]})]})}),(0,b.jsxs)("td",{className:"px-8 py-6 text-center",children:[(0,b.jsxs)("p",{className:"font-black text-black text-xs uppercase tracking-tighter",children:[u(a.entry_time)," - ",u(a.exit_time)]}),(0,b.jsx)("p",{className:"text-[8px] text-zinc-400 font-black uppercase tracking-widest",children:a.shift})]}),(0,b.jsx)("td",{className:"px-8 py-6 text-center",children:(0,b.jsxs)("p",{className:"text-[10px] font-black text-zinc-500",children:[u(a.break_in)," - ",u(a.break_off)]})}),(0,b.jsx)("td",{className:"px-8 py-6 text-center",children:(0,b.jsxs)("div",{className:"flex flex-col gap-1 items-center",children:[(0,b.jsxs)(g.Badge,{variant:"slate",children:["PKR ",a.salary,"K"]}),(0,b.jsx)("span",{className:"text-[8px] font-black text-zinc-300 uppercase",children:a.phone})]})})]},a._id))})]})})]})]})}])}];

//# sourceMappingURL=Pictures_HR-Portal-System-main_HR-Portal-System-main_63dfc7be._.js.map